<!DOCTYPE html>

<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">

    <title>SMART BUS</title>
    <!-- Latest compiled and minified CSS -->
    <!-- Optional theme -->
    <link rel="stylesheet" href="/stylesheets/bootstrap-theme.min.css">
    <!--custom.css-->
    <link rel="stylesheet" href="/stylesheets/index.css">
    <!--index.css-->
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
</head>

<body>
    <div class="row">
        <div class="col-xs-12 col-md-12 col-lg-12" id="container">
            <div class="panel panel-primary">
              <div class="panel-heading">
                  <center>SMART BUS STATUS</center>
              </div>
                <div class="panel-body">
                    <!-- first line of container -->
                    <div class="row">
                        <div class="col-xs-6 col-md-6 col-lg-6">
                            <div id="date-div" class="well well-sm">
                                <center></center>
                            </div>
                        </div>
                        <div class="col-xs-4 col-md-4 col-lg-4">
                            <div id="time-div" class="well well-sm">
                                <center></center>
                            </div>
                        </div>
                        <div class="col-xs-2 col-md-2 col-lg-2">
                            <div id="temp-div" class="well well-sm">
                                <center></center>
                            </div>
                        </div>
                    </div>
                    <!-- second line of container -->
                    <div class="row">
                        <div class="col-xs-8 col-md-8 col-lg-8">
                            <div id="total-div" class="well well-lg">
                                <center></center>
                            </div>
                        </div>
                        <div class="col-xs-4 col-md-4 col-lg-4">
                            <div id="reserve-div" class="well well-lg">
                                <center>Reserve: <br /> 0 </center>
                            </div>
                        </div>
                    </div>
                    <!-- third line of container -->
                    <div class="row">
                        <div class="col-xs-6 col-md-6 col-lg-6">
                            <div id="enter-div" class="well well-lg">
                                <center>Enter: 0</center>
                            </div>
                        </div>

                        <div class="col-xs-6 col-md-6 col-lg-6">
                            <div id="leave-div" class="well well-lg">
                                <center>Leave: 0</center>
                            </div>
                        </div>
                    </div>
                    <!-- third line of container -->
                    <div class="row">
                        <div class="col-xs-12 col-md-12 col-lg-12">
                            <div class="input-group">
                                <input id="customerName-input" type="text" class="form-control" aria-label="...">
                                <div class="input-group-btn ">
<<<<<<< HEAD
                                    <button disabled id="reserve-btn" class="btn btn-info " type="button ">RESERVE!</button>
                                    <button disabled id="cancel-btn" class="btn btn-warning " type="button ">CANCEL!</button>
=======
                                    <button disabled id="reserve-btn" class="btn btn-info" type="button " class="col-xs-2 col-md-2">RESERVE!</button>
                                    <button disabled id="cancel-btn" class="btn btn-warning" type="button " class="col-xs-2 col-md-2">CANCEL!</button>
>>>>>>> 0302e7839d7e84ccfb3d474bf79dc42d0e7e7594
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
<<<<<<< HEAD
    <script type="text/javascript">
    var names = [];

    var allSeat = 20;

    var timeLabel = $('#time-div');
    var dateLabel = $('#date-div')
    var temperatureLabel = $('#temp-div');

    var totalLabel = $('#total-div');

    var enterLabel = $('#enter-div');
    var reserveLabel = $('#reserve-div');
    var leaveLabel = $('#leave-div');

    var customerNameInput = ($('#customerName-input'));

    var reserveBtn = $('#reserve-btn');
    var cancelBtn = $('#cancel-btn');

    var enterPerson = 0;
    var reservePerson = 0;
    var leavePerson = 0;

    var seatLeft = 20;

    setInterval(function() {
        var date = new Date();
        timeLabel.html("<center>" + date.getHours() + ":" + date.getMinutes() + ":" + date.getSeconds() + "</center>");
        dateLabel.html("<center>" + (date.getMonth() + 1) + "/" + date.getDate() + "/" + date.getFullYear() + "</center>");
    }, 1000);

    setInterval(function() {
        $.ajax({
            url: 'http://10.32.176.4/Exponential'
        }).done(function(data) {
            // TODO: add temperature to here
            temperatureLabel.html();
        });
    }, 10000);

    customerNameInput.keyup(function(e) {
        e.preventDefault();
        if (e.which == 8) {
            if (customerNameInput.val() === "") {
                disabledButton(reserveBtn, true);
                disabledButton(cancelBtn, true);
            } else {
                disabledButton(reserveBtn, false);
                disabledButton(cancelBtn, false);
            }
        } else {
            if (customerNameInput.val() === "") {
                disabledButton(reserveBtn, true);
                disabledButton(cancelBtn, true);
            } else {
                disabledButton(reserveBtn, false);
                disabledButton(cancelBtn, false);
            }
        }
    });

    var goIn = function() {
        enterPerson += 1;
        seatLeft = allSeat - ((enterPerson + reservePerson) - leavePerson);
        enterLabel.html(enterPerson);
        totalLabel.html(seatLeft);
    }

    var goOut = function() {
        numLeaave += 1;
        seatLeft = allSeat - ((enterPerson + reservePerson) - leavePerson);
        leaveLabel.html(leavePerson);
        totalLabel.html(seatLeft);
    }

    var reserveF = function(name) {
        names[reservePerson] = name;
        reservePerson += 1;
        seatLeft -= 1;
        reserveLabel.html(reservePerson);
        totalLabel.html(seatLeft);
    }

    var cancelF = function(name) {
      var found = false;
      for (var i = 0;i < reservePerson;i++) {
        if (found === true) {
          names[i] = names[i-1];
        }
        if (names[i] === name) {
          found = true;
        }
      }
      if (found) {
        reservePerson -= 1;
        seatLeft += 1;
        reserveLabel.html(reservePerson);
        totalLabel.html(seatLeft);
      }
    }

    var disabledButton = function(button, disabled) {
        if (disabled) {
            button.attr("disabled", true);
        } else {
            button.removeAttr("disabled");
        }
    }

    reserveBtn.click(function() {

        if (seatLeft != 0) {
            var name = customerNameInput.val();
            reserveF(name);
            disabledButton(cancelBtn,false);
        } else {
            disabledButton(reserveBtn,true);
        }
    });

    cancelBtn.click(function() {
      if (reservePerson != 0) {
          var name = customerNameInput.val();
          cancelF(name);
          disabledButton(reserveBtn,false);
      } else {
          disabledButton(cancelBtn,true);
      }
    });

=======
    <script type="text/javascript" src="script/function.js">
>>>>>>> 0302e7839d7e84ccfb3d474bf79dc42d0e7e7594
    </script>
</body>

</html>
